<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Qu·ªëc T·∫ø 1/6 C√¥ P√© üíñ</title>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.22.0"></script>
  <!-- Google Fonts for From text -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />

  <style>
    /* --- To√†n b·ªô body --- */
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #fceabb, #f8b500);
      color: #d6336c;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      user-select: none;
    }

    /* --- C√°c stage (m√†n h√¨nh) --- */
    .stage {
      display: none;
      width: 100%;
      max-width: 400px;
      padding: 20px;
      box-sizing: border-box;
      background: #fff0f6;
      border-radius: 25px;
      box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
      text-align: center;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .stage.active {
      display: flex;
      min-height: 60vh;
    }

    /* --- Unlock Stage --- */
    #unlockStage h2 {
      font-weight: 700;
      text-shadow: 0 0 6px #ff77a9;
      margin-bottom: 25px;
    }
    #unlockStage input {
      width: 100%;
      padding: 12px 15px;
      font-size: 1.2rem;
      border: 2px solid #ff5c8a;
      border-radius: 15px;
      outline: none;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 600;
      color: #d6336c;
      background: #fff0f6;
      transition: border-color 0.3s, box-shadow 0.3s;
      box-sizing: border-box;
    }
    #unlockStage input::placeholder {
      color: #ff77a9;
      font-style: italic;
    }
    .gif {
  width: 150px;      /* ƒëi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc ·∫£nh nh·ªè h∆°n */
  height: auto;      /* gi·ªØ t·ªâ l·ªá ·∫£nh */
  border-radius: 15px; /* bo tr√≤n vi·ªÅn ·∫£nh */
  object-fit: cover;  /* ƒë·∫£m b·∫£o ·∫£nh kh√¥ng b·ªã m√©o */
  user-select: none;  /* kh√¥ng cho ch·ªçn ·∫£nh */
}
    #unlockStage input:focus {
      border-color: #ff1f6e;
      box-shadow: 0 0 10px #ff1f6e;
    }
    button.unlock-btn {
      background-color: #ff1f6e;
      border: none;
      color: white;
      font-size: 1.2rem;
      padding: 14px 30px;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 6px 15px #ff77a9;
      font-weight: 700;
      transition: background-color 0.3s, transform 0.2s;
      user-select: none;
    }
    button.unlock-btn:hover {
      background-color: #d60a4c;
      transform: scale(1.05);
    }

    /* --- Start Stage (h·ªôp qu√†) --- */
    #startStage {
      cursor: pointer;
      filter: drop-shadow(0 0 8px #ff1f6e);
      border-radius: 20px;
      transition: transform 0.3s;
    }
    #startStage:hover {
      transform: scale(1.05);
    }
    .gift-image {
      width: 150px;
      max-width: 80vw;
      border-radius: 15px;
    }
    #startStage p {
      margin-top: 15px;
      font-size: 1.3rem;
      font-weight: 700;
      text-shadow: 0 0 6px #ff77a9;
    }

    /* --- Name input stage --- */
    #nameInput {
      width: 100%;
      padding: 12px 15px;
      font-size: 1.2rem;
      border: 2px solid #ff5c8a;
      border-radius: 15px;
      outline: none;
      margin-top: 20px;
      text-align: center;
      font-weight: 600;
      color: #d6336c;
      background: #fff0f6;
      transition: border-color 0.3s, box-shadow 0.3s;
      box-sizing: border-box;
    }
    #nameInput::placeholder {
      color: #ff77a9;
      font-style: italic;
    }
    #nameInput:focus {
      border-color: #ff1f6e;
      box-shadow: 0 0 10px #ff1f6e;
    }
    button.send-btn {
      margin-top: 25px;
      background-color: #ff1f6e;
      border: none;
      color: white;
      font-size: 1.2rem;
      padding: 14px 30px;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 6px 15px #ff77a9;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 700;
      transition: background-color 0.3s, transform 0.2s;
      user-select: none;
    }
    button.send-btn:hover {
      background-color: #d60a4c;
      transform: scale(1.05);
    }

    /* --- Hearts stage --- */
    .heart-instruction {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 25px;
      text-shadow: 0 0 5px #ff77a9;
      max-width: 360px;
      line-height: 1.4;
    }
    .heart-container {
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
      max-width: 360px;
      margin: 0 auto 20px;
    }
    .heart {
      font-size: 3.5rem;
      cursor: pointer;
      transition: transform 0.3s, filter 0.3s;
      filter: drop-shadow(0 0 3px #ff1f6e);
      color: #ff5c8a;
      text-shadow: 0 0 4px #ff77a9;
      border-radius: 50%;
      padding: 5px;
      box-sizing: content-box;
      user-select: none;
    }
    .heart:hover:not(.tapped) {
      transform: scale(1.25);
      filter: drop-shadow(0 0 10px #ff1f6e);
      color: #ff1f6e;
    }
    .heart.tapped {
      color: #ff1f6e;
      filter: drop-shadow(0 0 15px #ff1f6e);
      transform: scale(1.5);
      pointer-events: none;
      transition: all 0.3s ease;
    }

    /* --- Card stage (th∆∞ c·∫£m ∆°n) --- */
    #cardStage .card {
      max-width: 400px;
      background: #fff0f6;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(255, 105, 180, 0.5);
      padding: 30px 25px;
      font-family: 'Comic Sans MS', cursive, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-weight: 600;
      color: #d6336c;
      font-size: 1.3rem;
      white-space: pre-line;
      transition: font-family 0.5s ease;
      user-select: none;
    }
    #cardStage .gif {
      width: 100%;
      border-radius: 20px;
      margin-bottom: 25px;
      user-select: none;
    }
    #fromTag {
      margin-top: 20px;
      font-weight: 700;
      font-style: italic;
      color: #ff1f6e;
      opacity: 0;
      transition: opacity 1s ease;
      font-family: 'Pacifico', cursive;
      font-size: 1.25rem;
      user-select: none;
    }

    /* --- Responsive cho m√†n nh·ªè --- */
    @media (max-width: 480px) {
      body {
        padding: 10px;
        min-height: 100vh;
        background-size: cover;
      }
      .stage {
        max-width: 100%;
        padding: 15px;
      }
      #nameInput {
        font-size: 1.1rem;
        padding: 10px 12px;
      }
      button.send-btn {
        font-size: 1.1rem;
        padding: 12px 25px;
      }
      .heart {
        font-size: 3rem;
      }
      .heart-container {
        gap: 15px;
      }
    }
  </style>
</head>

<body>

  <!-- M√†n h√¨nh m·ªü kh√≥a -->
  <div id="unlockStage" class="stage active" style="flex-direction: column;">
    <h2>Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ m·ªü qu√† üéÅ</h2>
    <input id="unlockInput" type="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u..." autocomplete="off" />
    <button class="unlock-btn" id="unlockBtn">M·ªü kh√≥a</button>
  </div>

  <!-- M√†n h√¨nh qu√† -->
  <div id="startStage" class="stage" title="Nh·∫•n ƒë·ªÉ m·ªü qu√†" tabindex="0" role="button" aria-pressed="false">
    <img
      src="giftbox.png"
      alt="Qu√† Qu·ªëc T·∫ø 1/6"
      class="gift-image"
      draggable="false"
      aria-label="H√¨nh ·∫£nh h·ªôp qu√† m√†u h·ªìng"
    />
    <p>Nh·∫•n m·ªü qu√† ƒë·ªÉ b·∫Øt ƒë·∫ßu üíñ</p>
  </div>

  <!-- M√†n h√¨nh nh·∫≠p t√™n -->
  <div id="nameStage" class="stage" style="flex-direction: column;">
    <h2>Nh·∫≠p t√™n b·∫°n üíù</h2>
    <input
      id="nameInput"
      type="text"
      placeholder="T√™n c·ªßa b·∫°n l√† g√¨?"
      autocomplete="off"
      aria-label="Nh·∫≠p t√™n b·∫°n"
      maxlength="30"
    />
    <button class="send-btn" id="sendNameBtn" aria-live="polite">
      G·ª≠i <i class="fa-solid fa-paper-plane"></i>
    </button>
  </div>

  <!-- M√†n h√¨nh ch·ªçn tim -->
  <div id="heartStage" class="stage" style="flex-direction: column;">
    <div class="heart-instruction">Ch·ªçn 1 tr√°i tim m√† b·∫°n th√≠ch nh·∫•t üíñ</div>
    <div class="heart-container" role="list" aria-label="Danh s√°ch tr√°i tim ƒë·ªÉ ch·ªçn">
      <span role="listitem" tabindex="0" class="heart" aria-label="Tr√°i tim m√†u h·ªìng nh·∫°t" data-value="1">üíó</span>
      <span role="listitem" tabindex="0" class="heart" aria-label="Tr√°i tim ƒë·ªè t∆∞∆°i" data-value="2">‚ù§Ô∏è</span>
      <span role="listitem" tabindex="0" class="heart" aria-label="Tr√°i tim ƒë·ªè th·∫´m" data-value="3">üß°</span>
      <span role="listitem" tabindex="0" class="heart" aria-label="Tr√°i tim m√†u t√≠m" data-value="4">üíú</span>
      <span role="listitem" tabindex="0" class="heart" aria-label="Tr√°i tim m√†u h·ªìng ƒë·∫≠m" data-value="5">üíñ</span>
    </div>
  </div>

  <!-- M√†n h√¨nh th∆∞ c·∫£m ∆°n -->
  <div id="cardStage" class="stage" style="flex-direction: column;">
    <img
      src="cute.gif"
      alt="Thi·ªáp c·∫£m ∆°n"
      class="gif"
      draggable="false"
      style="width: 150px; border-radius: 15px; object-fit: cover;"
      aria-hidden="true"
    />
    <div class="card" id="cardText" role="region" aria-live="polite"></div>
    <div id="fromTag"></div>
  </div>

  <script>
    // M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh ƒë·ªÉ m·ªü kh√≥a
    const PASSWORD = 'YEUBAOTRANNHIEULAM';

    // DOM elements
    const unlockStage = document.getElementById('unlockStage');
    const startStage = document.getElementById('startStage');
    const nameStage = document.getElementById('nameStage');
    const heartStage = document.getElementById('heartStage');
    const cardStage = document.getElementById('cardStage');

    const unlockInput = document.getElementById('unlockInput');
    const unlockBtn = document.getElementById('unlockBtn');

    const nameInput = document.getElementById('nameInput');
    const sendNameBtn = document.getElementById('sendNameBtn');

    const hearts = document.querySelectorAll('.heart');

    const cardText = document.getElementById('cardText');
    const fromTag = document.getElementById('fromTag');

    // H√†m chuy·ªÉn m√†n h√¨nh
    function showStage(stage) {
      // ·∫®n t·∫•t c·∫£
      [unlockStage, startStage, nameStage, heartStage, cardStage].forEach(s => {
        s.classList.remove('active');
      });
      // Hi·ªán m√†n ƒë∆∞·ª£c ch·ªçn
      stage.classList.add('active');
    }

    // S·ª± ki·ªán m·ªü kh√≥a
    unlockBtn.addEventListener('click', () => {
      const val = unlockInput.value.trim().toLowerCase();
      if (val === PASSWORD) {
        // M·ªü qu√†
        showStage(startStage);
      } else {
        Swal.fire({
          icon: 'error',
          title: 'Sai m·∫≠t kh·∫©u!',
          text: 'B·∫°n nh·∫≠p m·∫≠t kh·∫©u ch∆∞a ƒë√∫ng, vui l√≤ng th·ª≠ l·∫°i nh√© üòä',
          confirmButtonColor: '#d60a4c',
          timer: 2500,
          timerProgressBar: true,
        });
        unlockInput.value = '';
        unlockInput.focus();
      }
    });

    // Enter key m·ªü kh√≥a
    unlockInput.addEventListener('keydown', e => {
      if (e.key === 'Enter') unlockBtn.click();
    });

    // Khi nh·∫•n v√†o qu√† (startStage)
    startStage.addEventListener('click', () => {
      showStage(nameStage);
      nameInput.focus();
    });

    // Enter g·ª≠i t√™n
    nameInput.addEventListener('keydown', e => {
      if (e.key === 'Enter') sendNameBtn.click();
    });

    // X·ª≠ l√Ω g·ª≠i t√™n
    sendNameBtn.addEventListener('click', () => {
      let name = nameInput.value.trim();
      if (!name) {
        Swal.fire({
          icon: 'warning',
          title: 'Ch∆∞a nh·∫≠p t√™n!',
          text: 'Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n ƒë·ªÉ ti·∫øp t·ª•c.',
          confirmButtonColor: '#d60a4c',
          timer: 2000,
          timerProgressBar: true,
        });
        nameInput.focus();
        return;
      }
      if (name.length > 30) {
        Swal.fire({
          icon: 'warning',
          title: 'T√™n qu√° d√†i!',
          text: 'Vui l√≤ng nh·∫≠p t√™n ng·∫Øn h∆°n 30 k√Ω t·ª±.',
          confirmButtonColor: '#d60a4c',
          timer: 2000,
          timerProgressBar: true,
        });
        nameInput.focus();
        return;
      }

      // L∆∞u t√™n v√† chuy·ªÉn sang ch·ªçn tim
      sessionStorage.setItem('userName', name);
      showStage(heartStage);
      hearts[0].focus();
    });

    // X·ª≠ l√Ω ch·ªçn tim
    hearts.forEach(heart => {
      heart.addEventListener('click', () => {
        if (heart.classList.contains('tapped')) return;

        // B·ªè ch·ªçn tim kh√°c
        hearts.forEach(h => h.classList.remove('tapped'));

        // Ch·ªçn tim hi·ªán t·∫°i
        heart.classList.add('tapped');

        // Hi·ªÉn th·ªã thi·ªáp c·∫£m ∆°n sau delay
        setTimeout(() => {
          showThankYouCard(heart.dataset.value);
        }, 600);
      });

      // H·ªó tr·ª£ ch·ªçn b·∫±ng b√†n ph√≠m (Enter ho·∫∑c Space)
      heart.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          heart.click();
        }
      });
    });

    // N·ªôi dung thi·ªáp c·∫£m ∆°n t√πy theo tr√°i tim ch·ªçn
    const thankYouMessages = {
      '1': `C·∫£m ∆°n b·∫°n ƒë√£ ch·ªçn tr√°i tim üíó ng·ªçt ng√†o n√†y.\nCh√∫c b·∫°n lu√¥n vui v·∫ª v√† tr√†n ƒë·∫ßy y√™u th∆∞∆°ng!`,
      '2': `Tr√°i tim ‚ù§Ô∏è ƒë·ªè th·∫Øm n√†y l√† bi·ªÉu t∆∞·ª£ng cho t√¨nh c·∫£m ch√¢n th√†nh.\nCh√∫c b·∫°n lu√¥n h·∫°nh ph√∫c v√† may m·∫Øn!`,
      '3': `B·∫°n ƒë√£ ch·ªçn tr√°i tim üß° ·∫•m √°p.\nMong r·∫±ng m·ªói ng√†y c·ªßa b·∫°n ƒë·ªÅu tr√†n ng·∫≠p ni·ªÅm vui!`,
      '4': `Tr√°i tim üíú t√≠m nh·∫π nh√†ng v√† s√¢u s·∫Øc.\nCh√∫c b·∫°n s·ª©c kh·ªèe v√† th√†nh c√¥ng m·ªçi ƒëi·ªÅu!`,
      '5': `B·∫°n y√™u th√≠ch tr√°i tim üíñ r·ª±c r·ª° n√†y.\nCh√∫c b·∫°n m·ªôt ng√†y Qu·ªëc t·∫ø Thi·∫øu nhi th·∫≠t ƒë√°ng nh·ªõ v√† h·∫°nh ph√∫c!`,
    };

    function showThankYouCard(heartValue) {
      const name = sessionStorage.getItem('userName') || 'B·∫°n';
      const msg = thankYouMessages[heartValue] || 'C·∫£m ∆°n b·∫°n ƒë√£ tham gia!';
      cardText.textContent = `Ch√†o ${name}!\n\n${msg}`;
      fromTag.style.opacity = '0';
      fromTag.textContent = 'üíñ Qu·ªëc T·∫ø 1/6 C√¥ P√©';
      showStage(cardStage);

      // Hi·ªáu ·ª©ng hi·ªán d·∫ßn ph·∫ßn fromTag
      setTimeout(() => {
        fromTag.style.opacity = '1';
      }, 700);
    }

    // Kh√≥a input ƒë·∫ßu ti√™n khi load
    unlockInput.focus();
  </script>
</body>
</html>
